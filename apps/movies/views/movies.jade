extends /layout

block declarations
    - additional_title      = lingua.movies;
    - body_class            = 'appMovies';
    - use_angular           = true;
    - angular_app           = "movieApp";
    - angular_body_ctrl          = "movieCtrl";
    - angular_body_class    = "{playing:playing}";

block additional_css
    link(href="/core/css/video-js.css", rel="stylesheet")
    link(rel='stylesheet', href='/movies/css/style.css')

block additional_scripts
    script(src="/movies/js/app.js")
    script(src="/core/js/video.js")
    script(src="/movies/js/remote.js")
    
block body
    #backdrop
        img#backdropimg.fullscreen(src="/movies/css/img/backdrop.png")
    header
        a.backlink(href="/") &#xe113;
        h1 #{lingua.movies}

        input#search.pull-right(ng-model="query", type="text", placeholder="Search")
    .container-fluid
        .row
            .col-xs-8.col-sm-6.col-md-4.col-lg-2(ng-repeat="movie in movies | filter:query | orderBy:orderProp")
                .thumbnail.movieposter.boxed.mcjs-rc-clickable(ng-focus="changeBackdrop(movie.backdrop_path)", ng-mouseover="changeBackdrop(movie.backdrop_path)", ng-class="{current: focused == $index }",ng-click="playMovie(movie.original_name)")
                        img.movieposter(ng-src="{{movie.poster_path}}", onerror="this.src='/movies/css/img/nodata.jpg'")
                        .caption
                                p
                                    h1.movie-title{{movie.title}}
                                    .overview
                                        .summary {{movie.overview}}
                                    .specs
                                        p
                                            strong {{movie.genre}}
                                        p
                                            strong #{lingua.movies_Runtime}: {{movie.runtime}} min
                        .cdNumber(ng-show="movie.cdNumber.length > 0")
                            span {{movie.cdNumber}}

        h2.loading(ng-show="!movies") #{lingua.loading}

    video#player.video-js.vjs-default-skin(width="100%", height="100%", ng-show="playing", controls, preload="metadata")
